<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - SkillsLab</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/Scripts/head")
    <!-- Data Table JS -->
    <script src='https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js'></script>
    <script src='https://cdn.datatables.net/responsive/2.1.0/js/dataTables.responsive.min.js'></script>
    <script src='https://cdn.datatables.net/1.13.5/js/dataTables.bootstrap5.min.js'></script>
    <!-- Data Table CSS -->
    <link rel='stylesheet' href='https://cdn.datatables.net/1.13.5/css/dataTables.bootstrap5.min.css'>
    <!-- Snackbar JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/node-snackbar/0.1.16/snackbar.min.js" integrity="sha512-iILlngu0qmiyIkOH6MV1RWSya+DL2uzo0cb/nKR4hqwz9H+Xnop1++f8TMw1j5CdbutXGkBUyfRUfg/hmNBfZg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/node-snackbar/0.1.16/snackbar.min.css" integrity="sha512-pKdIPri9vb1aqcci9Rsl1xO7n74wHe5+RMcqRufN36EnXVtOsbct0VKDtBdhAnSCqZeny2jiZBSpXp0iDSzZ+Q==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div id="overlay-spinner">
        <span class="spinner-border text-primary"></span>
    </div>
    <nav class="navbar navbar-expand-lg sticky-top bg-light">
        <div class="container-fluid">
            <img src="~/Content/Images/logo.png" class="logo" />
            @Html.ActionLink("SkillsLab", "Index", "Common", new { area = "" }, new { @class = "navbar-brand display-3" })
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav me-auto my-2 my-lg-0">
                    <li class="nav-item mx-2">
                        @Html.ActionLink("Trainings", "Index", "Training", null, new { @class = @ViewBag.Title == "Trainings" ? "nav-link active" : "nav-link" })
                    </li>
                    @if (Session["CurrentRole"] as string == "Manager")
                    {
                        <li class="nav-item mx-2">
                            @Html.ActionLink("Enrollments", "All", "Enrollment", null, new { @class = @ViewBag.Title == "Enrollments" ? "nav-link active" : "nav-link" })
                        </li>
                    }
                    @if (Session["CurrentRole"] as string == "Employee")
                    {
                        <li class="nav-item mx-2">
                            @Html.ActionLink("Enrollments", "Index", "Enrollment", null, new { @class = @ViewBag.Title == "Enrollments" ? "nav-link active" : "nav-link" })
                        </li>
                    }
                    </ul>
                <ul class="navbar-nav">
                    <li class="nav-item dropdown mx-2">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            @ViewBag.Employee.FirstName @ViewBag.Employee.LastName
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li>
                                @Html.ActionLink("Account", "Index", "Account", null, new { @class = "dropdown-item" })
                            </li>
                            @if (Session["CurrentRole"] as string == "Employee" || Session["CurrentRole"] as string == "Manager")
                            {
                                <li>
                                    @Html.ActionLink("My Enrollments", "Index", "Enrollment", null, new { @class = "dropdown-item" })
                                </li>
                            }
                            <li><hr class="dropdown-divider"></li>
                            <li>
                                @Html.ActionLink("Log Out", "Logout", "Common", null, new { @class = "dropdown-item" })
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="progress mb-4 bg-light" style="height: 1px;">
        <div class="progress-bar" id="loading" role="progressbar" style="width: 0%;"></div>
    </div>


    @RenderBody()


    <footer class="container-fluid">
        <hr />
        <div class="d-flex mb-2">
            <p class="my-1">&copy; @DateTime.Now.Year - SkillsLab</p>
            <img src="~/Content/Images/logo.png" class="logo ms-auto d-inline-block opacity-25" />
        </div>
    </footer>

    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/Scripts/body")
    @RenderSection("scripts", required: false)
</body>
</html>
